# bireco

æœ¬ã®æ„Ÿæƒ³ã‚’å…±æœ‰ã™ã‚‹Webã‚µãƒ¼ãƒ“ã‚¹

## ğŸ“š æ¦‚è¦

birecoã¯ã€èª­æ›¸æ„›å¥½å®¶ã®ãŸã‚ã®æ„Ÿæƒ³æŠ•ç¨¿ãƒ»å…±æœ‰ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚å›½ç«‹å›½ä¼šå›³æ›¸é¤¨ã®æ¤œç´¢APIã‚’æ´»ç”¨ã—ã¦è±Šå¯Œãªæ›¸ç±ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰æœ¬ã‚’æ¤œç´¢ã—ã€Markdownã‚¨ãƒ‡ã‚£ã‚¿ã§æ€ã„é€šã‚Šã®æ„Ÿæƒ³ã‚’è¨˜éŒ²ãƒ»å…±æœ‰ã§ãã¾ã™ã€‚

### ä¸»ãªæ©Ÿèƒ½

- ğŸ“– **æ›¸ç±æ¤œç´¢**: å›½ç«‹å›½ä¼šå›³æ›¸é¤¨APIã«ã‚ˆã‚‹è±Šå¯Œãªæ›¸ç±ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- âœï¸ **æ„Ÿæƒ³æŠ•ç¨¿**: Markdownå¯¾å¿œã‚¨ãƒ‡ã‚£ã‚¿ã§è¡¨ç¾è±Šã‹ãªæ„Ÿæƒ³ã‚’è¨˜éŒ²
- ğŸ’¾ **è‡ªå‹•ä¿å­˜**: æ›¸ãã‹ã‘ã®æ„Ÿæƒ³ã¯ä¸‹æ›¸ãã¨ã—ã¦è‡ªå‹•ä¿å­˜
- ğŸ‘¥ **ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£**: ä»–ã®èª­è€…ã®æ„Ÿæƒ³ã‚’èª­ã‚“ã§æ–°ã—ã„æœ¬ã¨å‡ºä¼šã†
- â­ **è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ **: 5æ®µéšè©•ä¾¡ã§æœ¬ã®æº€è¶³åº¦ã‚’å…±æœ‰

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **React 18** + **TypeScript**
- **Vite** (é«˜é€Ÿãƒ“ãƒ«ãƒ‰)
- **Material-UI** (UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)
- **React Router** (ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
- **React Query** (ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥)

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **Rust** + **Cloudflare Workers**
- **Cloudflare D1** (SQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹)
- **Clean Architecture** (æ‹¡å¼µå¯èƒ½ãªè¨­è¨ˆ)
- **JWTèªè¨¼**

### å¤–éƒ¨API
- **å›½ç«‹å›½ä¼šå›³æ›¸é¤¨ã‚µãƒ¼ãƒAPI** (æ›¸ç±ãƒ‡ãƒ¼ã‚¿)

## ğŸš€ ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰

### å‰ææ¡ä»¶

ä»¥ä¸‹ã®ãƒ„ãƒ¼ãƒ«ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š

- [Node.js](https://nodejs.org/) (v18ä»¥ä¸Š)
- [Rust](https://rustup.rs/) (æœ€æ–°stableç‰ˆ)
- [Wrangler CLI](https://developers.cloudflare.com/workers/wrangler/install-and-update/)

```bash
# Rustã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# Wranglerã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install -g wrangler
```

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

1. **ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³**

```bash
git clone <repository-url>
cd bireco
```

2. **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®è¨­å®š**

```bash
cd frontend
npm install
```

3. **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®è¨­å®š**

```bash
cd ../backend
npm install -g wrangler  # ã¾ã ã®å ´åˆ
```

4. **Cloudflareã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®è¨­å®š**

```bash
# Cloudflareã«ãƒ­ã‚°ã‚¤ãƒ³
wrangler login

# D1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆ
wrangler d1 create bireco

# ä½œæˆã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹IDã‚’wrangler.tomlã«è¨­å®š
# database_id = "å‡ºåŠ›ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ID"
```

5. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**

```bash
cd backend
wrangler d1 execute bireco --file=./migrations/0001_initial_schema.sql
```

6. **ç’°å¢ƒå¤‰æ•°ã®è¨­å®š**

`backend/wrangler.toml`ã‚’ç·¨é›†ï¼š

```toml
[vars]
JWT_SECRET = "your-secret-key-here"  # å¼·åŠ›ãªãƒ©ãƒ³ãƒ€ãƒ æ–‡å­—åˆ—ã«å¤‰æ›´
```

### é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

**ã‚¿ãƒ¼ãƒŸãƒŠãƒ«1: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**

```bash
cd backend
wrangler dev
```

- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API: http://localhost:8787

**ã‚¿ãƒ¼ãƒŸãƒŠãƒ«2: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**

```bash
cd frontend
npm run dev
```

- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ—ãƒª: http://localhost:5173

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
bireco/
â”œâ”€â”€ frontend/                # Reactãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ pages/         # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ contexts/      # React Context (èªè¨¼ãªã©)
â”‚   â”‚   â”œâ”€â”€ lib/          # APIå‘¼ã³å‡ºã—ãƒ»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â””â”€â”€ types/        # TypeScriptå‹å®šç¾©
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ backend/                # Rustãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ entities/     # ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”œâ”€â”€ repositories/ # ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤
â”‚   â”‚   â”œâ”€â”€ use_cases/    # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ handlers/     # APIãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”‚   â”‚   â””â”€â”€ external/     # å¤–éƒ¨APIé€£æº
â”‚   â”œâ”€â”€ migrations/       # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â””â”€â”€ wrangler.toml    # Cloudflare Workersè¨­å®š
â”œâ”€â”€ docs/                   # è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ architecture/      # ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ
â”‚   â”œâ”€â”€ database/         # DBè¨­è¨ˆ
â”‚   â”œâ”€â”€ api/             # APIä»•æ§˜
â”‚   â””â”€â”€ ui/              # UI/UXè¨­è¨ˆ
â””â”€â”€ README.md
```

## ğŸ”§ é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

```bash
cd frontend

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# ãƒ“ãƒ«ãƒ‰
npm run build

# ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆãƒ“ãƒ«ãƒ‰å¾Œã®ç¢ºèªï¼‰
npm run preview

# å‹ãƒã‚§ãƒƒã‚¯
npm run tsc

# Linting
npm run lint
```

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

```bash
cd backend

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
wrangler dev

# ãƒ“ãƒ«ãƒ‰ç¢ºèª
cargo check

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
cargo test

# D1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
wrangler d1 execute bireco --command="SELECT * FROM users;"

# ãƒ­ã‚°ç¢ºèª
wrangler tail
```

## ğŸŒ ãƒ‡ãƒ—ãƒ­ã‚¤

### Cloudflare Pagesã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤

1. **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**

```bash
cd frontend
npm run build

# Cloudflare Pagesã«ãƒ‡ãƒ—ãƒ­ã‚¤
wrangler pages publish dist
```

2. **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**

```bash
cd backend

# æœ¬ç•ªç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤
wrangler publish

# æœ¬ç•ªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
wrangler d1 execute bireco --env=production --file=./migrations/0001_initial_schema.sql
```

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

1. **CORS ã‚¨ãƒ©ãƒ¼**
   - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®CORSè¨­å®šã‚’ç¢ºèª
   - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®APIãƒ™ãƒ¼ã‚¹URLã‚’ç¢ºèª

2. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼**
   - `wrangler.toml`ã®database_idãŒæ­£ã—ã„ã‹ç¢ºèª
   - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

3. **èªè¨¼ã‚¨ãƒ©ãƒ¼**
   - JWT_SECRETãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
   - ãƒˆãƒ¼ã‚¯ãƒ³ã®æœ‰åŠ¹æœŸé™ã‚’ç¢ºèª

4. **NDL API ã‚¨ãƒ©ãƒ¼**
   - ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šã‚’ç¢ºèª
   - APIåˆ¶é™ã«é”ã—ã¦ã„ãªã„ã‹ç¢ºèª

### ãƒ­ã‚°ã®ç¢ºèª

```bash
# Workersã®ãƒ­ã‚°
wrangler tail

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ­ã‚°
ãƒ–ãƒ©ã‚¦ã‚¶ã®DevToolsã‚’ä½¿ç”¨
```

## ğŸ“– API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

è©³ç´°ãªAPIä»•æ§˜ã«ã¤ã„ã¦ã¯ [docs/api/specification.md](./docs/api/specification.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ¤ é–‹ç™ºã¸ã®è²¢çŒ®

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ: `git checkout -b feature/amazing-feature`
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ: `git commit -m 'Add some amazing feature'`
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥: `git push origin feature/amazing-feature`
5. Pull Requestã‚’ä½œæˆ

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚
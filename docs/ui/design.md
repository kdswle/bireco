# UI/UX設計

## 画面設計

### 1. ホーム画面 (`/`)

**目的:** サービスの入口として最新感想と人気書籍を表示

**レイアウト:**
```
┌─────────────────────────────────────────┐
│              Header                     │
│  [bireco] [検索バー] [ログイン] [登録]   │
├─────────────────────────────────────────┤
│              Hero Section               │
│        本の感想を共有しよう               │
│       [本を検索して感想を投稿]           │
├─────────────────────────────────────────┤
│             最新の感想                   │
│  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐      │
│  │Book │ │Book │ │Book │ │Book │      │
│  │Image│ │Image│ │Image│ │Image│      │
│  │Title│ │Title│ │Title│ │Title│      │
│  │★★★★│ │★★★☆│ │★★★★│ │★★★☆│      │
│  └─────┘ └─────┘ └─────┘ └─────┘      │
├─────────────────────────────────────────┤
│              Footer                     │
└─────────────────────────────────────────┘
```

**コンポーネント:**
- `Header`: ナビゲーション
- `Hero`: メインビジュアルとCTA
- `LatestReviews`: 最新感想カードリスト
- `Footer`: フッター情報

### 2. ログイン画面 (`/login`)

**目的:** ユーザー認証

**レイアウト:**
```
┌─────────────────────────────────────────┐
│         [← ホーム] ログイン              │
├─────────────────────────────────────────┤
│                                         │
│          ┌─────────────────┐            │
│          │   ログイン       │            │
│          │                │            │
│          │ ユーザー名      │            │
│          │ ┌─────────────┐ │            │
│          │ │             │ │            │
│          │ └─────────────┘ │            │
│          │                │            │
│          │ パスワード      │            │
│          │ ┌─────────────┐ │            │
│          │ │             │ │            │
│          │ └─────────────┘ │            │
│          │                │            │
│          │  [ログイン]     │            │
│          │                │            │
│          │ アカウントをお持ちでない方│    │
│          │    [新規登録]    │            │
│          └─────────────────┘            │
└─────────────────────────────────────────┘
```

### 3. 新規登録画面 (`/register`)

**目的:** 新規ユーザー登録

**レイアウト:**
```
┌─────────────────────────────────────────┐
│       [← ホーム] 新規登録               │
├─────────────────────────────────────────┤
│                                         │
│          ┌─────────────────┐            │
│          │   新規登録       │            │
│          │                │            │
│          │ ユーザー名      │            │
│          │ ┌─────────────┐ │            │
│          │ │             │ │            │
│          │ └─────────────┘ │            │
│          │                │            │
│          │ メールアドレス   │            │
│          │ ┌─────────────┐ │            │
│          │ │             │ │            │
│          │ └─────────────┘ │            │
│          │                │            │
│          │ 表示名          │            │
│          │ ┌─────────────┐ │            │
│          │ │             │ │            │
│          │ └─────────────┘ │            │
│          │                │            │
│          │ パスワード      │            │
│          │ ┌─────────────┐ │            │
│          │ │             │ │            │
│          │ └─────────────┘ │            │
│          │                │            │
│          │  [登録]        │            │
│          │                │            │
│          │ すでにアカウントをお持ちの方│  │
│          │     [ログイン]   │            │
│          └─────────────────┘            │
└─────────────────────────────────────────┘
```

### 4. 本検索画面 (`/search`)

**目的:** NDL APIから本を検索

**レイアウト:**
```
┌─────────────────────────────────────────┐
│         [← 戻る] 本を検索               │
├─────────────────────────────────────────┤
│  ┌─────────────────────────────────────┐ │
│  │  [🔍] 書籍名、著者名で検索         │ │
│  └─────────────────────────────────────┘ │
├─────────────────────────────────────────┤
│              検索結果                   │
│  ┌─────┐                               │
│  │Cover│ タイトル: ノルウェイの森        │
│  │Image│ 著者: 村上春樹                 │
│  │     │ 出版年: 2004                  │
│  │     │ [感想を投稿*] [詳細を見る]     │
│  └─────┘                               │
│  ┌─────┐                               │
│  │Cover│ タイトル: 海辺のカフカ          │
│  │Image│ 著者: 村上春樹                 │
│  │     │ [感想を投稿*] [詳細を見る]     │
│  └─────┘                               │
└─────────────────────────────────────────┘
```

**コンポーネント:**
- `SearchBar`: 検索入力フォーム
- `BookSearchResults`: 検索結果リスト
- `BookItem`: 個別書籍カード

**注意:** *感想を投稿ボタンは認証済みユーザーのみ表示。未認証の場合は「ログインして感想を投稿」

### 5. 本詳細画面 (`/books/{book_id}`)

**目的:** 書籍詳細情報と感想一覧を表示

**レイアウト:**
```
┌─────────────────────────────────────────┐
│         [← 戻る] 本の詳細               │
├─────────────────────────────────────────┤
│ ┌──────┐  タイトル: ノルウェイの森       │
│ │Cover │  著者: 村上春樹                │
│ │Image │  出版社: 講談社                │
│ │      │  出版年: 2004                 │
│ │      │  平均評価: ★★★★☆ (4.2/5)      │
│ └──────┘  感想件数: 15件               │
│                                         │
│          [この本の感想を投稿*]          │
├─────────────────────────────────────────┤
│                感想一覧                 │
│  ┌─────────────────────────────────────┐ │
│  │ ★★★★★ 心に残る物語                │ │
│  │ 投稿者: @tanaka_taro 2024/09/08    │ │
│  │ 直子との別れのシーンが印象的で...   │ │
│  │              [続きを読む]           │ │
│  └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

**コンポーネント:**
- `BookHeader`: 書籍基本情報
- `BookStats`: 統計情報（評価、感想数）
- `ReviewList`: 感想一覧
- `ReviewCard`: 個別感想カード

### 6. 感想投稿画面 (`/books/{book_id}/review`) **[認証必須]**

**目的:** 選択した本への感想を投稿

**レイアウト:**
```
┌─────────────────────────────────────────┐
│      [← 戻る] 感想を投稿                │
├─────────────────────────────────────────┤
│ 対象の本: ノルウェイの森                │
│ ┌──────┐ 村上春樹                       │
│ │Cover │                               │
│ │Image │                               │
│ └──────┘                               │
├─────────────────────────────────────────┤
│ 感想タイトル *                          │
│ ┌─────────────────────────────────────┐ │
│ │                                     │ │
│ └─────────────────────────────────────┘ │
│ 評価（任意）                            │
│ ☆☆☆☆☆                                │
│ 感想内容 *                             │
│ ┌─────────────────────────────────────┐ │
│ │                                     │ │
│ │                                     │ │
│ │                                     │ │
│ └─────────────────────────────────────┘ │
│ プレビュー                              │
│ ┌─────────────────────────────────────┐ │
│ │  [編集] [プレビュー] [下書き保存]   │ │
│ └─────────────────────────────────────┘ │
│                                         │
│     [キャンセル] [感想を投稿]           │
└─────────────────────────────────────────┘
```

**コンポーネント:**
- `BookPreview`: 対象書籍プレビュー
- `MarkdownEditor`: Markdown対応エディタ（自動保存機能付き）
- `StarRating`: 星評価コンポーネント
- `PreviewPane`: Markdownプレビュー表示

**機能:**
- リアルタイム下書き保存（3秒毎）
- Markdownプレビュー切り替え
- 既存下書きがある場合は自動読み込み

### 7. 感想詳細画面 (`/reviews/{review_id}`)

**目的:** 個別感想の詳細表示

**レイアウト:**
```
┌─────────────────────────────────────────┐
│       [← 戻る] 感想詳細                 │
├─────────────────────────────────────────┤
│ ★★★★★ 心に残る物語                    │
│ 投稿者: @tanaka_taro (田中太郎)         │
│ 投稿日: 2024年9月8日                    │
│           [編集] [削除] ※投稿者のみ     │
├─────────────────────────────────────────┤
│ 対象の本:                              │
│ ┌──────┐ ノルウェイの森                 │
│ │Cover │ 村上春樹                       │
│ │Image │ [本の詳細を見る]               │
│ └──────┘                               │
├─────────────────────────────────────────┤
│             感想内容                    │
│                                         │
│ 直子との別れのシーンが印象的でした。     │
│ 緑の明るさと直子の繊細さが対照的に     │
│ 描かれており、主人公の心境の変化が     │
│ よく表現されていると思います。         │
│                                         │
│ 大学生の恋愛や友情について考えさせ     │
│ られる作品でした。                     │
└─────────────────────────────────────────┘
```

**コンポーネント:**
- `ReviewHeader`: 感想メタ情報
- `BookPreview`: 対象書籍プレビュー  
- `ReviewContent`: 感想本文

### 8. プロフィール画面 (`/profile`) **[認証必須]**

**目的:** ユーザー情報と投稿履歴を表示

**レイアウト:**
```
┌─────────────────────────────────────────┐
│         [← ホーム] プロフィール          │
├─────────────────────────────────────────┤
│ ┌──────┐ @tanaka_taro                   │
│ │Avatar│ 田中太郎                       │
│ │      │ 登録日: 2024年8月              │
│ └──────┘ 投稿した感想: 12件             │
│          [プロフィール編集]              │
├─────────────────────────────────────────┤
│             投稿した感想                 │
│  ┌─────────────────────────────────────┐ │
│  │ ★★★★★ 心に残る物語                │ │
│  │ ノルウェイの森 - 2024/09/08         │ │
│  │ 直子との別れのシーンが...           │ │
│  │          [編集] [削除]               │ │
│  └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

**コンポーネント:**
- `UserProfile`: ユーザー情報表示
- `UserReviews`: 投稿感想一覧

## ユーザーフロー

### 認証フロー
```
ホーム → ログイン → 認証完了
   ↓        ↓
 新規登録 → 登録完了 → 自動ログイン
```

### メインフロー: 感想投稿
```
ホーム → ログイン → 本検索 → 本詳細 → 感想投稿 → 完了
  ↑         ↑        ↑        ↓        ↓
直接検索   登録    絞り込み  感想一覧   プロフィール
```

### サブフロー: 感想閲覧（認証不要）
```
ホーム → 最新感想 → 感想詳細
  ↓         ↓
本詳細   対象の本詳細
```

## レスポンシブ設計

### ブレークポイント
- Mobile: `< 640px`
- Tablet: `640px - 1024px`  
- Desktop: `> 1024px`

### Mobile First 対応
- タッチフレンドリーなボタンサイズ (44px以上)
- スワイプジェスチャー対応
- シンプルなナビゲーション

## デザインシステム

### カラーパレット
```css
:root {
  --primary: #6366f1;     /* Indigo */
  --secondary: #8b5cf6;   /* Violet */
  --accent: #f59e0b;      /* Amber */
  --neutral-50: #f9fafb;
  --neutral-100: #f3f4f6;
  --neutral-800: #1f2937;
  --neutral-900: #111827;
}
```

### タイポグラフィ
- 見出し: `font-family: 'Noto Sans JP', sans-serif`
- 本文: `font-family: 'Noto Sans JP', sans-serif`
- コード: `font-family: 'JetBrains Mono', monospace`

### コンポーネント設計原則
- **再利用性**: 共通コンポーネントを積極活用
- **一貫性**: デザインシステムに基づいた統一感
- **アクセシビリティ**: WCAG 2.1 AA準拠
- **パフォーマンス**: 軽量で高速なUI